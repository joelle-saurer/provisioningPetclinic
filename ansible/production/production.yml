---
- hosts: production
  gather_facts: True
  become: True
  tasks:


    - name: Pull the Docker image
      docker_image:
        name: joellesaurer/devenv
        tag: latest
        source: pull 
        state: present 
    
    - name: Log into DockerHub
      docker_login:
        username: joellesaurer
        password: saurer4335
        email: docker@docker.io

    - name: Tag and push to docker hub
      docker_image:
        name: joellesaurer/devenv:latest
        tag: prodenv
        push: yes
