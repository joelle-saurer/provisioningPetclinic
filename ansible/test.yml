---
- hosts: localhost #Azure Terraform VM
  gather_facts: True

  tasks:
   
    - name: Pull the Docker image
      docker_image:
        name: joellesaurer/petclinics:test
        source: pull 
        state: present 

  #run the image
    - name: run container
      docker_container:
          name: containerSelenium
          image: joellesaurer/petclinics:test
          command: run
          ports: 
            - "8086:8080"
          state: present